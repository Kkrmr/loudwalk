<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ローカルを汚さないメンテナブルなブログのセットアップ | LoudWalk - Kkrmr Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="WSL2×Docker×VuePressの環境構築～GitHub PagesへのCD設定まで">
    <link rel="preload" href="/loudwalk/assets/css/0.styles.f51536de.css" as="style"><link rel="preload" href="/loudwalk/assets/js/app.e677e3d1.js" as="script"><link rel="preload" href="/loudwalk/assets/js/6.402b42f8.js" as="script"><link rel="preload" href="/loudwalk/assets/js/3.59f3a641.js" as="script"><link rel="preload" href="/loudwalk/assets/js/13.44305766.js" as="script"><link rel="preload" href="/loudwalk/assets/js/7.46df12d6.js" as="script"><link rel="prefetch" href="/loudwalk/assets/js/10.60de0599.js"><link rel="prefetch" href="/loudwalk/assets/js/11.1d45a020.js"><link rel="prefetch" href="/loudwalk/assets/js/12.45d9f0ea.js"><link rel="prefetch" href="/loudwalk/assets/js/4.c83f9c12.js"><link rel="prefetch" href="/loudwalk/assets/js/5.169434b2.js"><link rel="prefetch" href="/loudwalk/assets/js/8.0e1117ed.js"><link rel="prefetch" href="/loudwalk/assets/js/9.cf88976c.js"><link rel="prefetch" href="/loudwalk/assets/js/vuejs-paginate.c6dc7ffd.js">
    <link rel="stylesheet" href="/loudwalk/assets/css/0.styles.f51536de.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/loudwalk/" class="nav-link home-link">LoudWalk - Kkrmr Blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/loudwalk/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/loudwalk/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/loudwalk/" class="nav-link mobile-home-link">LoudWalk - Kkrmr Blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/loudwalk/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/loudwalk/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h2 id="前書き"><a href="#前書き" class="header-anchor">#</a> 前書き</h2> <p>初めまして、Kkrmrです。</p> <p>この記事には本ブログのセットアップ方法を書いています。</p> <p>以下のような方に読んでもらえればと思います。</p> <ul><li>Windowsユーザ</li> <li>WSL2、Dockerに触ったことがある方</li> <li>Vueに触ったことのない方</li></ul> <h2 id="環境情報"><a href="#環境情報" class="header-anchor">#</a> 環境情報</h2> <ul><li>Windows Home 10 Version 2004（64 bit）</li> <li>WSL2</li> <li>Ubuntu 18.04.1 LTS (Bionic Beaver)</li> <li>Docker CE 19.03.11</li> <li>VuePress ^1.5.2</li> <li>vuepress/theme-blog ^1.5.2</li></ul> <p>※静的サイトジェネレータは他にもありますが、業務でVueを触る可能性を考慮しVuePressを採用しました。</p> <h2 id="wsl2×dockerのセットアップ"><a href="#wsl2×dockerのセットアップ" class="header-anchor">#</a> WSL2×Dockerのセットアップ</h2> <p>WSL2×Dockerのセットアップは以下の通りです。
詳細は参考URLを参照してください。</p> <ol><li><p>WSLの有効化<br>
Linux 用 Windows サブシステムを有効にする。<br>
コントロール パネル\プログラム\プログラムと機能\Windows の機能の有効化または無効化から、「Linux 用 Windows サブシステム」をチェックする。<br>
（もしくはPowerShellから該当のコマンドを実行する。）<br> <a href="https://docs.microsoft.com/ja-jp/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer">参考URL1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>WSL用Ubuntuのインストール<br> <a href="https://blog.goo.ne.jp/rezoochi/e/107582cfef94beb971981e413d6ea887" target="_blank" rel="noopener noreferrer">参考URL2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
※ストアを利用しないでインストールする方法が記載されています。<br>
※個人的にストアを自由に利用出来ないため参考にさせてもらいました！</p></li> <li><p>WSL2へのスイッチ<br>
WSL用の仮想OSとしてUbuntuがインストールされているため、<br>
該当のUbuntuに対してWSL2を設定する。<br> <a href="https://docs.microsoft.com/ja-jp/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer">参考URL3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <p><em>サンプルコマンド</em></p> <p>現状のWSLバージョン確認</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">PS</span> C:\WINDOWS\system32&gt; wsl <span class="token operator">-</span>l <span class="token operator">-</span>v
  NAME            STATE           VERSION
<span class="token operator">*</span> Ubuntu<span class="token operator">-</span>18<span class="token punctuation">.</span>04    Stopped         1
</code></pre></div><p>Ubuntuに対するWSL2設定</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">PS</span> C:\WINDOWS\system32&gt; wsl <span class="token operator">--</span><span class="token function">set</span><span class="token operator">-</span>version Ubuntu<span class="token operator">-</span>18<span class="token punctuation">.</span>04 2
変換中です。この処理には数分かかることがあります<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
WSL 2 との主な違いについては、https:<span class="token operator">/</span><span class="token operator">/</span>aka<span class="token punctuation">.</span>ms<span class="token operator">/</span>wsl2 を参照してください
変換が完了しました。
</code></pre></div><p>設定後のWSLバージョン確認</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">PS</span> C:\WINDOWS\system32&gt; wsl <span class="token operator">-</span>l <span class="token operator">-</span>v
  NAME            STATE           VERSION
<span class="token operator">*</span> Ubuntu<span class="token operator">-</span>18<span class="token punctuation">.</span>04    Stopped         2
</code></pre></div><ol start="4"><li>Dockerのインストール<br>
apt-getでDocker Community Editionをインストールする。<br>
ここまで来たらLinuxにDockerをインストールするのと大差ないはずなので、<br>
Dockerの公式ページを参考にしてもらうのが分かりやすいと思います。<br> <a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">参考URL4<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="vuepressのセットアップ"><a href="#vuepressのセットアップ" class="header-anchor">#</a> VuePressのセットアップ</h2> <ul><li><p>各種設定</p> <ul><li>Docker コンテナとローカル（仮想ホスト）は src 配下をマウント</li> <li>package.json をローカルから Docker コンテナへ add</li></ul></li> <li><p>コマンドリスト</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> docker build -t loudwalk-frontend <span class="token builtin class-name">.</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> docker run -p <span class="token number">8080</span>:8080 -it<span class="token punctuation">\</span>
-v /mnt/c/work/apps/loudwalk/frontend/src:/opt/loudwalk-frontend/src<span class="token punctuation">\</span>
loudwalk-frontend <span class="token function">sh</span>
</code></pre></div><h2 id="github-pagesのセットアップ"><a href="#github-pagesのセットアップ" class="header-anchor">#</a> GitHub Pagesのセットアップ</h2></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#前書き" title="前書き">前書き</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#環境情報" title="環境情報">環境情報</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#wsl2×dockerのセットアップ" title="WSL2×Dockerのセットアップ">WSL2×Dockerのセットアップ</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vuepressのセットアップ" title="VuePressのセットアップ">VuePressのセットアップ</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#github-pagesのセットアップ" title="GitHub Pagesのセットアップ">GitHub Pagesのセットアップ</a></div></div></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766><li class="contact-item" data-v-582f9766><a href="https://github.com/Kkrmr/loudwalk" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-582f9766><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-582f9766></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/loudwalk/assets/js/app.e677e3d1.js" defer></script><script src="/loudwalk/assets/js/6.402b42f8.js" defer></script><script src="/loudwalk/assets/js/3.59f3a641.js" defer></script><script src="/loudwalk/assets/js/13.44305766.js" defer></script><script src="/loudwalk/assets/js/7.46df12d6.js" defer></script>
  </body>
</html>
